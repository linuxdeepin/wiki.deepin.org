---
title: 系统安装后无法进入桌面
description: 
published: true
date: 2022-05-17T11:35:47.116Z
tags: 
editor: markdown
dateCreated: 2022-04-21T03:51:56.530Z
---

# 问题描述
安装没问题。    
安装完毕，进入界面，仍然是空白界面（仅有壁纸），鼠标右键无法使用，左键无法框选等等问题，看着就像是双屏的副屏（后面的一系列操作可以确认这一点）。  
因为，如果把鼠标放在当前界面上，同时按下 <kbd>ctrl</kbd> + <kbd>alt</kbd> + <kbd>t</kbd>，则在当前界面唤出终端模拟器；如果把鼠标移动到超过屏幕左边的范围后点击一下，然后按快捷键唤出终端模拟器，则在当前界面上无法看到终端模拟器。  
如果将鼠标移动超过屏幕左边的范围后点击一下（在想象中的主屏点击），然后按 <kbd>win</kbd> + <kbd>e</kbd>，之后按 <kbd>alt</kbd> + <kbd>空格</kbd>，按方向键下，三次，按 enter 确定，按方向键右，一直按住，文件管理器的窗口将会从左边移动出来，由此可证，当前屏幕被作为了副屏。  

# 问题原因
在本台机子上，问题的出现是因为这块主板是工控主板，所以内置了双显卡，默认主屏为内置显卡的输出，外置显卡的输出为副屏，而我的显示器是 VGA 接口，只能使用外置显卡输出（HDMI口也是外置显卡输出）。因为 deepin 的初始双屏策略是扩展分屏的方式，这固然方便了需要使用双屏的朋友，但是却会对一部分人造成困扰。windows 的双显卡初始双屏策略则是复制分屏，（这一点在尝试过 win7、win10 之后得到确认）所以不存在这一问题。

# 解决
<kbd>ctrl</kbd> + <kbd>alt</kbd> + <kbd>t</kbd> ，唤出终端模拟器，执行：  
```
$ xrandr  ;  查看显示输出的端口
$ xrandr --output 当前屏幕 --auto --primary  ; 将当前屏幕设置为主屏
$ xrandr --output 内置显卡的输出端口 --off  ; 将内置显卡的输出端口关掉
如，我的内置显卡的输出端口是 eDP-1 ，执行 xrandr 之后会有一句： eDP-1 connected primary ****
我当前的屏幕使用的输出端口是 DP-1，所以我需要这样做：
$ xrandr --output DP-1 --auto --primary
$ xrandr --output eDP-1 --off
```
至此，当前屏幕显示的就是主屏幕，topbar 等选项就回来了，鼠标左右键也变正常了。

最后一步，需要在控制中心中将显示输出设置为 “只在 ××（当前显示器）上显示”，如果这一步不做，下一次开机后仍然会被识别为副屏。